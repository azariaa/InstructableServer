set bob as the recipient,(setFieldFromFieldVal (getProbMutableFieldByFieldName recipient_list) (evalField (getProbFieldByInstanceNameAndFieldName bob email)))
forward to bob,(doSeq (doSeq (doSeq (doSeq (createInstanceByConceptName outgoing_email) (setFieldFromFieldVal (getProbMutableFieldByInstanceNameAndFieldName outgoing_email subject) (evalField (getProbFieldByInstanceNameAndFieldName inbox subject)))) (setFieldFromFieldVal (getProbMutableFieldByInstanceNameAndFieldName outgoing_email body) (evalField (getProbFieldByInstanceNameAndFieldName inbox body)))) (setFieldFromFieldVal (getProbMutableFieldByFieldName recipient_list) (evalField (getProbFieldByInstanceNameAndFieldName bob email)))) (sendEmail))
forward to tam@gmail.com,"(doSeq (doSeq (doSeq (doSeq (createInstanceByConceptName outgoing_email) (setFieldFromFieldVal (getProbMutableFieldByInstanceNameAndFieldName outgoing_email subject) (evalField (getProbFieldByInstanceNameAndFieldName inbox subject)))) (setFieldFromFieldVal (getProbMutableFieldByInstanceNameAndFieldName outgoing_email body) (evalField (getProbFieldByInstanceNameAndFieldName inbox body)))) (setFieldFromString (getProbMutableFieldByFieldName recipient_list) ""tam@gmail.com"")) (sendEmail))"
reply on my way,"(doSeq (doSeq (doSeq (setFieldFromFieldVal (getProbMutableFieldByFieldName subject) (evalField (getProbFieldByInstanceNameAndFieldName inbox subject))) (setFieldFromFieldVal (getProbMutableFieldByFieldName recipient_list) (evalField (getProbFieldByInstanceNameAndFieldName inbox sender)))) (setFieldFromString (getProbMutableFieldByFieldName body) ""on my way"")) (sendEmail))"
who sent the email,(evalField (getProbFieldByInstanceNameAndFieldName inbox sender))
who is inbox's sender,(evalField (getProbFieldByInstanceNameAndFieldName inbox sender))
send email to mat@gmail.com with subject urgent and body I'm waiting for too long for the report,"(doSeq (doSeq (doSeq (doSeq (createInstanceByConceptName outgoing_email) (setFieldFromString (getProbMutableFieldByFieldName recipient_list) ""mat@gmail.com"")) (setFieldFromString (getProbMutableFieldByFieldName subject) ""urgent"")) (setFieldFromString (getProbMutableFieldByFieldName body) ""I'm waiting for too long for the report"")) (sendEmail))"
read next incoming message,(doSeq (nextEmailMessage) (readInstance (getProbInstanceByName inbox)))
